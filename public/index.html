<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="description" content="Coach BOS ‚Äî The voice of Puerto Rico esports. Talk tournaments, GAMERGY, strategy, training, and everything competitive gaming. Bilingual EN/ES. GET COACHED.‚Ñ¢">
  <meta property="og:title" content="Coach BOS ‚Äî The Voice of PR Esports">
  <meta property="og:description" content="Talk to Coach BOS ‚Äî AI esports authority for Puerto Rico. Tournaments, strategy, GAMERGY, and the whole scene. GET COACHED.‚Ñ¢">
  <meta property="og:type" content="website">
  <title>Coach BOS ‚Äî Talk Esports üáµüá∑ | GET COACHED.‚Ñ¢</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Outfit:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <style>
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    :root{
      --display:'Bebas Neue',sans-serif;
      --sans:'Outfit',sans-serif;
      --bg:#FAF9F7;
      --bg-header:#FFFFFF;
      --border:#E8E5E0;
      --border-light:#F0EDE8;
      --text:#1A1A1A;
      --text-secondary:#6B6560;
      --text-muted:#9B9590;
      --gold:#D4A017;
      --gold-bright:#FFD700;
      --gold-bg:rgba(212,160,23,0.08);
      --gold-border:rgba(212,160,23,0.2);
      --orange:#E8601C;
      --teal:#0A9B7A;
      --teal-bg:rgba(10,155,122,0.08);
      --teal-border:rgba(10,155,122,0.15);
      --bos-bubble:#F5F3EF;
      --user-bubble:#F0EADD;
      --error-bg:#FEF2F2;
      --error-border:#FECACA;
      --error-text:#B91C1C;
    }
    html,body{height:100%;overflow:hidden}
    body{font-family:var(--sans);background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;display:flex;flex-direction:column}
    body.en .es{display:none!important}body.es .en{display:none!important}

    /* ‚ïê‚ïê‚ïê HEADER ‚ïê‚ïê‚ïê */
    .hdr{display:flex;align-items:center;gap:12px;padding:12px 16px;background:var(--bg-header);border-bottom:1px solid var(--border);position:relative;z-index:10;flex-shrink:0}
    .hdr-back{display:flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:10px;background:var(--bg);border:1px solid var(--border);font-size:15px;text-decoration:none;color:var(--text);-webkit-tap-highlight-color:transparent;transition:all .15s;flex-shrink:0}
    .hdr-back:hover{background:var(--border-light)}
    .hdr-back:active{transform:scale(.95)}
    .hdr-av{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--gold),var(--orange));display:flex;align-items:center;justify-content:center;font-size:20px;flex-shrink:0;box-shadow:0 2px 8px rgba(212,160,23,0.25)}
    .hdr-info{flex:1;min-width:0}
    .hdr-name{font-family:var(--display);font-size:17px;letter-spacing:2px;line-height:1;color:var(--text)}
    .hdr-status{display:flex;align-items:center;gap:5px;margin-top:3px}
    .hdr-dot{width:6px;height:6px;border-radius:50%;background:var(--teal);box-shadow:0 0 6px rgba(10,155,122,0.4)}
    .hdr-stat{font-size:11px;color:var(--text-muted);font-weight:600}
    .hdr-flag{font-size:13px;margin-left:1px}
    .hdr-actions{display:flex;gap:6px;align-items:center;flex-shrink:0}
    .hdr-btn{height:34px;min-width:34px;padding:0 10px;border-radius:8px;border:1px solid var(--border);background:var(--bg);color:var(--text-secondary);display:flex;align-items:center;justify-content:center;cursor:pointer;-webkit-tap-highlight-color:transparent;transition:all .15s;flex-shrink:0;font-size:12px;font-weight:700;font-family:var(--sans);letter-spacing:.5px}
    .hdr-btn:hover{background:var(--border-light);color:var(--text)}
    .hdr-btn:active{transform:scale(.95)}
    .hdr-share{font-size:16px;padding:0;width:34px}

    /* ‚ïê‚ïê‚ïê CHAT ‚ïê‚ïê‚ïê */
    .chat{flex:1;overflow-y:auto;padding:20px 16px;display:flex;flex-direction:column;gap:12px;position:relative;z-index:1;-webkit-overflow-scrolling:touch;scroll-behavior:smooth;background:var(--bg)}
    .chat::-webkit-scrollbar{width:4px}
    .chat::-webkit-scrollbar-thumb{background:rgba(0,0,0,.08);border-radius:10px}

    /* ‚ïê‚ïê‚ïê WELCOME ‚ïê‚ïê‚ïê */
    .welcome{text-align:center;padding:40px 16px 20px;animation:fadeUp .5s ease}
    @keyframes fadeUp{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
    .w-av{width:72px;height:72px;border-radius:50%;background:linear-gradient(135deg,var(--gold),var(--orange));display:flex;align-items:center;justify-content:center;font-size:34px;margin:0 auto 16px;box-shadow:0 4px 20px rgba(212,160,23,0.2)}
    .w-title{font-family:var(--display);font-size:26px;letter-spacing:3px;line-height:1;margin-bottom:4px;color:var(--text)}
    .w-title .gold{color:var(--gold)}
    .w-coached{font-family:var(--display);font-size:13px;letter-spacing:4px;color:var(--gold);margin-bottom:14px;opacity:.8}
    .w-coached .tm{font-family:var(--sans);font-size:.5em;vertical-align:super;letter-spacing:0}
    .w-sub{font-size:14px;color:var(--text-secondary);line-height:1.6;max-width:400px;margin:0 auto;font-weight:400}
    .w-badge{display:inline-flex;align-items:center;gap:6px;margin-top:16px;padding:6px 16px;border-radius:50px;background:var(--teal-bg);border:1px solid var(--teal-border);font-size:11px;font-weight:700;letter-spacing:1.5px;text-transform:uppercase;color:var(--teal)}
    .w-badge::before{content:'';width:6px;height:6px;border-radius:50%;background:var(--teal)}

    /* ‚ïê‚ïê‚ïê MESSAGES ‚ïê‚ïê‚ïê */
    .row{display:flex;gap:10px;max-width:85%;animation:msgPop .3s cubic-bezier(.22,1,.36,1)}
    @keyframes msgPop{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:translateY(0)}}
    .row-user{align-self:flex-end;flex-direction:row-reverse}
    .row-bos{align-self:flex-start}
    .av{width:28px;height:28px;border-radius:50%;flex-shrink:0;margin-top:2px;display:flex;align-items:center;justify-content:center;font-size:14px}
    .av-bos{background:var(--gold-bg);border:1px solid var(--gold-border)}
    .av-user{background:var(--teal-bg);border:1px solid var(--teal-border)}
    .bub{padding:12px 16px;border-radius:18px;font-size:14px;line-height:1.65;font-weight:400;word-wrap:break-word;overflow-wrap:break-word}
    .bub-bos{background:var(--bos-bubble);border:1px solid var(--border-light);border-bottom-left-radius:4px;color:var(--text)}
    .bub-user{background:var(--user-bubble);border:1px solid rgba(212,160,23,0.12);border-bottom-right-radius:4px;color:var(--text)}
    .bub-err{background:var(--error-bg);border:1px solid var(--error-border);border-bottom-left-radius:4px;color:var(--error-text)}
    .dots{display:flex;align-items:center;gap:5px;padding:14px 18px}
    .dot{width:7px;height:7px;border-radius:50%;background:var(--gold);opacity:.3;animation:bounce 1.4s ease-in-out infinite}
    .dot:nth-child(2){animation-delay:.2s}.dot:nth-child(3){animation-delay:.4s}
    @keyframes bounce{0%,60%,100%{transform:translateY(0);opacity:.3}30%{transform:translateY(-6px);opacity:.8}}

    /* ‚ïê‚ïê‚ïê INPUT ‚ïê‚ïê‚ïê */
    .bar{padding:12px 16px;padding-bottom:max(12px,env(safe-area-inset-bottom));background:var(--bg-header);border-top:1px solid var(--border);position:relative;z-index:10;flex-shrink:0}
    .bar-row{display:flex;gap:10px;align-items:flex-end;max-width:600px;margin:0 auto}
    .bar-input{flex:1;min-height:46px;max-height:120px;padding:12px 16px;border-radius:16px;border:1.5px solid var(--border);background:var(--bg);color:var(--text);font-family:var(--sans);font-size:15px;font-weight:400;resize:none;outline:none;line-height:1.45;transition:border-color .2s,box-shadow .2s;-webkit-appearance:none}
    .bar-input::placeholder{color:var(--text-muted)}
    .bar-input:focus{border-color:var(--gold-border);box-shadow:0 0 0 3px rgba(212,160,23,0.08)}
    .bar-input:disabled{opacity:.4}
    .bar-send{width:46px;height:46px;border-radius:14px;border:none;background:linear-gradient(135deg,var(--gold),var(--orange));color:#FFFFFF;font-size:18px;font-weight:800;display:flex;align-items:center;justify-content:center;flex-shrink:0;transition:all .2s;-webkit-tap-highlight-color:transparent;cursor:pointer;box-shadow:0 2px 10px rgba(212,160,23,0.25)}
    .bar-send:hover{box-shadow:0 4px 16px rgba(212,160,23,0.35);transform:translateY(-1px)}
    .bar-send:active{transform:scale(.93)}
    .bar-send:disabled{opacity:.35;transform:none;cursor:default;box-shadow:none}
    .bar-send svg{width:20px;height:20px;fill:none;stroke:currentColor;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round}

    /* ‚ïê‚ïê‚ïê POWERED ‚ïê‚ïê‚ïê */
    .powered{text-align:center;padding:6px 0 4px;font-size:10px;color:var(--text-muted);letter-spacing:.3px;background:var(--bg-header);position:relative;z-index:10}
    .powered a{color:var(--gold);text-decoration:none;font-weight:600}

    @media(max-width:420px){.hdr-name{font-size:15px}.w-av{width:60px;height:60px;font-size:28px}.w-title{font-size:23px}.w-sub{font-size:13px}.bub{font-size:13.5px;padding:10px 14px}}
    @media(max-height:550px){.welcome{padding:20px 12px 10px}.w-av{width:50px;height:50px;font-size:24px}}
    @media(min-width:600px){.row{max-width:65%}.welcome{padding:60px 16px 30px}}
  </style>
</head>
<body class="en">

  <!-- ‚ïê‚ïê‚ïê HEADER ‚ïê‚ïê‚ïê -->
  <div class="hdr">
    <a href="/" class="hdr-back" title="BOS Esports">‚Üê</a>
    <div class="hdr-av">üéØ</div>
    <div class="hdr-info">
      <div class="hdr-name">COACH BOS</div>
      <div class="hdr-status">
        <span class="hdr-dot"></span>
        <span class="hdr-stat en">PR Esports Authority</span>
        <span class="hdr-stat es">Autoridad Esports PR</span>
        <span class="hdr-flag">üáµüá∑</span>
      </div>
    </div>
    <div class="hdr-actions">
      <button class="hdr-btn" id="langBtn" onclick="toggleLang()">ES</button>
      <button class="hdr-btn hdr-share" id="shareBtn" onclick="shareCoach()">‚Üó</button>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê CHAT ‚ïê‚ïê‚ïê -->
  <div class="chat" id="chat"></div>

  <!-- ‚ïê‚ïê‚ïê INPUT ‚ïê‚ïê‚ïê -->
  <div class="bar">
    <div class="bar-row">
      <textarea class="bar-input" id="inp" rows="1" placeholder="Talk esports with Coach BOS..." enterkeyhint="send"></textarea>
      <button class="bar-send" id="sendBtn" onclick="doSend()">
        <svg viewBox="0 0 24 24"><path d="M22 2L11 13"/><path d="M22 2L15 22L11 13L2 9L22 2Z"/></svg>
      </button>
    </div>
  </div>
  <div class="powered en">Powered by <a href="/">BOS Esports</a> ¬∑ GoStar Digital LLC üáµüá∑</div>
  <div class="powered es">Impulsado por <a href="/">BOS Esports</a> ¬∑ GoStar Digital LLC üáµüá∑</div>

  <script>
  (function(){
    var chat=document.getElementById('chat');
    var inp=document.getElementById('inp');
    var sendBtn=document.getElementById('sendBtn');
    var langBtn=document.getElementById('langBtn');
    var hist=[];
    var busy=false;
    var lang='en';

    function setLang(l){
      lang=l;
      document.body.className=l;
      langBtn.textContent=l==='en'?'ES':'EN';
      inp.placeholder=l==='en'?'Talk esports with Coach BOS...':'Habla esports con Coach BOS...';
      try{localStorage.setItem('bos-lang',l);}catch(e){}
      if(chat.querySelector('.welcome'))showWelcome();
    }
    window.toggleLang=function(){setLang(lang==='en'?'es':'en');};

    function showWelcome(){
      var html='<div class="welcome">'
        +'<div class="w-av">üéØ</div>'
        +'<div class="w-title"><span class="gold">COACH</span> BOS</div>'
        +'<div class="w-coached">GET COACHED.<span class="tm">‚Ñ¢</span></div>'
        +'<div class="w-sub en">The voice of Puerto Rico esports. Ask me anything ‚Äî tournaments, strategy, GAMERGY, game tips, the PR scene, or how to level up your game. I\'m here for every gamer on the island.</div>'
        +'<div class="w-sub es">La voz del esports en Puerto Rico. Preg√∫ntame lo que sea ‚Äî torneos, estrategia, GAMERGY, tips de juego, la escena PR, o c√≥mo subir tu nivel. Estoy aqu√≠ pa\' cada gamer en la isla.</div>'
        +'<div class="w-badge en">üáµüá∑ Puerto Rico Esports Authority</div>'
        +'<div class="w-badge es">üáµüá∑ Autoridad Esports de Puerto Rico</div>'
        +'</div>';
      chat.innerHTML=html;
    }

    function clearWelcome(){var w=chat.querySelector('.welcome');if(w)w.remove();}

    function addBub(who,text,isErr){
      clearWelcome();
      var r=document.createElement('div');
      r.className='row row-'+who;
      var a=document.createElement('div');
      a.className='av av-'+who;
      a.textContent=who==='bos'?'üéØ':'üéÆ';
      var b=document.createElement('div');
      b.className='bub '+(isErr?'bub-err':('bub-'+who));
      b.textContent=text;
      r.appendChild(a);r.appendChild(b);
      chat.appendChild(r);
      chat.scrollTop=chat.scrollHeight;
    }

    function addDots(){
      clearWelcome();
      var r=document.createElement('div');
      r.className='row row-bos';r.id='dots';
      var a=document.createElement('div');
      a.className='av av-bos';a.textContent='üéØ';
      var b=document.createElement('div');
      b.className='bub bub-bos dots';
      b.innerHTML='<span class="dot"></span><span class="dot"></span><span class="dot"></span>';
      r.appendChild(a);r.appendChild(b);
      chat.appendChild(r);
      chat.scrollTop=chat.scrollHeight;
    }
    function killDots(){var d=document.getElementById('dots');if(d)d.remove();}

    inp.addEventListener('input',function(){
      this.style.height='auto';
      this.style.height=Math.min(this.scrollHeight,120)+'px';
    });
    inp.addEventListener('keydown',function(e){
      if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();if(!busy&&this.value.trim())doSend();}
    });

    window.doSend=async function(){
      var text=inp.value.trim();
      if(!text||busy)return;

      busy=true;
      sendBtn.disabled=true;
      inp.value='';
      inp.style.height='auto';

      addBub('user',text);
      hist.push({role:'user',content:text});
      addDots();

      try{
        var ctrl=new AbortController();
        var tmout=setTimeout(function(){ctrl.abort();},30000);

        var res=await fetch('/api/chat',{
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body:JSON.stringify({message:text,history:hist.slice(-20),lang:lang}),
          signal:ctrl.signal
        });

        clearTimeout(tmout);
        killDots();

        if(!res.ok){
          var errMsgEN='Had a timeout. Try again ‚Äî I\'m warming back up. ‚ö°';
          var errMsgES='Se me fue el tiempo. Intenta de nuevo ‚Äî estoy calentando. ‚ö°';
          addBub('bos',lang==='es'?errMsgES:errMsgEN,true);
          busy=false;sendBtn.disabled=false;return;
        }

        var data=await res.json();
        var reply=data.reply||'...';
        addBub('bos',reply);
        hist.push({role:'assistant',content:reply});
        if(hist.length>40)hist=hist.slice(-40);

      }catch(e){
        killDots();
        if(e.name==='AbortError'){
          var toEN='I\'m warming up. Give me a moment and try again. ‚ö°';
          var toES='Estoy calentando. Dame un momento e intenta de nuevo. ‚ö°';
          addBub('bos',lang==='es'?toES:toEN,true);
        }else{
          var ceEN='Connection issue. Try again. ‚ö°';
          var ceES='Problema de conexi√≥n. Intenta de nuevo. ‚ö°';
          addBub('bos',lang==='es'?ceES:ceEN,true);
        }
      }

      busy=false;
      sendBtn.disabled=false;
      inp.focus();
    };

    window.shareCoach=function(){
      var url=window.location.href;
      var shareData={title:'Coach BOS ‚Äî PR Esports Authority üáµüá∑',text:'Talk esports with Coach BOS ‚Äî the AI authority on Puerto Rico esports. GAMERGY, tournaments, strategy, training. GET COACHED.‚Ñ¢',url:url};
      if(navigator.share){navigator.share(shareData).catch(function(){});}
      else{navigator.clipboard.writeText('Coach BOS ‚Äî PR Esports Authority üáµüá∑ '+url).then(function(){var b=document.getElementById('shareBtn');b.textContent='‚úì';b.style.color='var(--teal)';setTimeout(function(){b.textContent='‚Üó';b.style.color='';},2000);}).catch(function(){});}
    };

    var saved;try{saved=localStorage.getItem('bos-lang');}catch(e){}
    setLang(saved||'en');
    showWelcome();
    if(window.innerWidth>600)inp.focus();

  })();
  </script>
</body>
</html>
